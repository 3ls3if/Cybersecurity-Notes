# 2️⃣ Binary Analysis

## 4 Stages of Compilation

<figure><img src="../../.gitbook/assets/image (21).png" alt=""><figcaption><p>4 Stages of Compilation</p></figcaption></figure>

{% embed url="https://www.scaler.com/topics/c/compilation-process-in-c/" %}

## 1. Preprocessing

<figure><img src="../../.gitbook/assets/image (22).png" alt=""><figcaption><p>Preprocessing</p></figcaption></figure>

```c
#include<stdio.h>

#define FORMAT_STRING "%s"
#define MESSAGE "Hello, world!\n"

int main(int argc, char **agrv)
{ 
        printf(FORMAT_STRING, MESSAGE);
        return 0;
}
```

```
$ gcc -E -P <test.c>
```

* \-E: Preprocess only; do not compile, assemble or link.

## 2. Compilation

<figure><img src="../../.gitbook/assets/image (23).png" alt=""><figcaption></figcaption></figure>

```
$ gcc -S -masm=intel test.c 
```

## 3. Assembly

<figure><img src="../../.gitbook/assets/image (24).png" alt=""><figcaption></figcaption></figure>

```
$ gcc -c test.c
```

```
$ file test.o
```

{% hint style="info" %}
**Note:** `Relocatable` means you are dealing with an object file and not with an executable file.
{% endhint %}

## Linking

<figure><img src="../../.gitbook/assets/image (25).png" alt=""><figcaption></figcaption></figure>

```
gcc <test.c>
```

```
file a.out
```

